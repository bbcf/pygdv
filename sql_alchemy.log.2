17:26:25,489    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:25,507    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Sequence" (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	species_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(species_id) REFERENCES "Species" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:25,507    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:25,545    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:25,554    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Track" (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	_created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	_last_access TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	input_id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	sequence_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(input_id) REFERENCES "Input" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(sequence_id) REFERENCES "Sequence" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:25,554    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:25,598    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:25,629    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE user_circle (
	user_id INTEGER NOT NULL, 
	circle_id INTEGER NOT NULL, 
	PRIMARY KEY (user_id, circle_id), 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(circle_id) REFERENCES "Circle" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:25,630    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:25,672    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:25,680    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Project" (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	_created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	sequence_id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	is_public BOOLEAN NOT NULL, 
	key VARCHAR(255) NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sequence_id) REFERENCES "Sequence" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	UNIQUE (key)
)


17:26:25,680    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:25,880    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:25,904    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE default_tracks (
	track_id INTEGER NOT NULL, 
	sequence_id INTEGER NOT NULL, 
	PRIMARY KEY (track_id, sequence_id), 
	FOREIGN KEY(track_id) REFERENCES "Track" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(sequence_id) REFERENCES "Sequence" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:25,904    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:25,944    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:25,973    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "RightCircleAssociation" (
	right_id INTEGER NOT NULL, 
	circle_id INTEGER NOT NULL, 
	project_id INTEGER, 
	PRIMARY KEY (right_id, circle_id), 
	FOREIGN KEY(right_id) REFERENCES "Right" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(circle_id) REFERENCES "Circle" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(project_id) REFERENCES "Project" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:25,973    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:26,016    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:26,032    INFO  [sqlalchemy.engine.base.Engine] 
            SELECT EXISTS (
                SELECT * FROM pg_catalog.pg_type t
                WHERE t.typname = %(typname)s
                AND pg_type_is_visible(t.oid)
                )
                
17:26:26,032    INFO  [sqlalchemy.engine.base.Engine] {'typname': u'job_status'}
17:26:26,034    INFO  [sqlalchemy.engine.base.Engine] CREATE TYPE job_status AS ENUM ('SUCCESS','PENDING','ERROR','RUNNING')
17:26:26,034    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:26,035    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:26,065    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Job" (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	description TEXT NOT NULL, 
	_created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	status job_status NOT NULL, 
	user_id INTEGER NOT NULL, 
	project_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(project_id) REFERENCES "Project" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:26,065    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:26,201    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:26,209    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE project_track (
	project_id INTEGER NOT NULL, 
	track_id INTEGER NOT NULL, 
	PRIMARY KEY (project_id, track_id), 
	FOREIGN KEY(project_id) REFERENCES "Project" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(track_id) REFERENCES "Track" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:26,209    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:26,228    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:26,236    INFO  [sqlalchemy.engine.base.Engine] 
            SELECT EXISTS (
                SELECT * FROM pg_catalog.pg_type t
                WHERE t.typname = %(typname)s
                AND pg_type_is_visible(t.oid)
                )
                
17:26:26,236    INFO  [sqlalchemy.engine.base.Engine] {'typname': u'job_type'}
17:26:26,237    INFO  [sqlalchemy.engine.base.Engine] CREATE TYPE job_type AS ENUM ('NEW_SELECTION','NEW_TRACK','GFEATMINER','NEW_PROJECT')
17:26:26,237    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:26,238    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:26,260    INFO  [sqlalchemy.engine.base.Engine] 
            SELECT EXISTS (
                SELECT * FROM pg_catalog.pg_type t
                WHERE t.typname = %(typname)s
                AND pg_type_is_visible(t.oid)
                )
                
17:26:26,261    INFO  [sqlalchemy.engine.base.Engine] {'typname': u'job_output'}
17:26:26,262    INFO  [sqlalchemy.engine.base.Engine] CREATE TYPE job_output AS ENUM ('RELOAD','IMAGE')
17:26:26,262    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:26,263    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:26,294    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "JobParameters" (
	id SERIAL NOT NULL, 
	type job_type NOT NULL, 
	output job_output NOT NULL, 
	data TEXT, 
	job_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(job_id) REFERENCES "Job" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:26,294    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:26,380    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:26,421    INFO  [sqlalchemy.engine.base.Engine] BEGIN (implicit)
17:26:26,423    INFO  [sqlalchemy.engine.base.Engine] SELECT "User".id AS "User_id", "User".name AS "User_name", "User".firstname AS "User_firstname", "User"._email AS "User__email", "User"._created AS "User__created", "User".key AS "User_key" 
FROM "User" 
WHERE "User"._email = %(_email_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
17:26:26,423    INFO  [sqlalchemy.engine.base.Engine] {'_email_1': 'yohan.jarosz@epfl.ch', 'param_1': 1, 'param_2': 0}
17:26:26,445    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Right" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Right".id
17:26:26,445    INFO  [sqlalchemy.engine.base.Engine] {'name': 'Upload', 'description': u'A group with this permission can upload tracks to the project and execute jobs on the web interface.'}
17:26:26,447    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Right" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Right".id
17:26:26,447    INFO  [sqlalchemy.engine.base.Engine] {'name': 'Download', 'description': u'A group with this permission can download files on a project.'}
17:26:26,448    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Right" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Right".id
17:26:26,448    INFO  [sqlalchemy.engine.base.Engine] {'name': 'Read', 'description': u'A group with this permission can view the project.'}
17:26:26,450    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Permission" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Permission".id
17:26:26,450    INFO  [sqlalchemy.engine.base.Engine] {'name': 'user', 'description': u'This permission give "read" right to the bearer.'}
17:26:26,514    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Group" (name, _created) VALUES (%(name)s, %(_created)s) RETURNING "Group".id
17:26:26,514    INFO  [sqlalchemy.engine.base.Engine] {'_created': datetime.datetime(2011, 10, 13, 17, 26, 26, 514389), 'name': 'Users'}
17:26:26,546    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "GroupPermissions" (group_id, permission_id) VALUES (%(group_id)s, %(permission_id)s)
17:26:26,547    INFO  [sqlalchemy.engine.base.Engine] {'permission_id': 1, 'group_id': 1}
17:26:26,565    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:43,375    INFO  [sqlalchemy.engine.base.Engine] select version()
17:26:43,375    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:43,377    INFO  [sqlalchemy.engine.base.Engine] select current_schema()
17:26:43,378    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:43,382    INFO  [sqlalchemy.engine.base.Engine] select relname from pg_class c join pg_namespace n on n.oid=c.relnamespace where n.nspname=current_schema() and lower(relname)=%(name)s
17:26:43,383    INFO  [sqlalchemy.engine.base.Engine] {'name': u'permission'}
17:26:43,385    INFO  [sqlalchemy.engine.base.Engine] select relname from pg_class c join pg_namespace n on n.oid=c.relnamespace where n.nspname=current_schema() and lower(relname)=%(name)s
17:26:43,385    INFO  [sqlalchemy.engine.base.Engine] {'name': u'user'}
17:26:43,387    INFO  [sqlalchemy.engine.base.Engine] select relname from pg_class c join pg_namespace n on n.oid=c.relnamespace where n.nspname=current_schema() and lower(relname)=%(name)s
