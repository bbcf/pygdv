17:26:44,412    INFO  [sqlalchemy.engine.base.Engine] 
            SELECT EXISTS (
                SELECT * FROM pg_catalog.pg_type t
                WHERE t.typname = %(typname)s
                AND pg_type_is_visible(t.oid)
                )
                
17:26:44,413    INFO  [sqlalchemy.engine.base.Engine] {'typname': u'datatype'}
17:26:44,414    INFO  [sqlalchemy.engine.base.Engine] CREATE TYPE datatype AS ENUM ('Features','Signal','Relational','not determined')
17:26:44,414    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,415    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,445    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Input" (
	id SERIAL NOT NULL, 
	sha1 VARCHAR(255) NOT NULL, 
	_last_access TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	parameter_id INTEGER NOT NULL, 
	task_id VARCHAR(255) NOT NULL, 
	datatype datatype NOT NULL, 
	PRIMARY KEY (id), 
	UNIQUE (sha1), 
	FOREIGN KEY(parameter_id) REFERENCES "InputParameters" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:44,445    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,522    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,540    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Project" (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	_created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	sequence_id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	is_public BOOLEAN NOT NULL, 
	key VARCHAR(255) NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(sequence_id) REFERENCES "Sequence" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	UNIQUE (key)
)


17:26:44,541    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,653    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,662    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Track" (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	_created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	_last_access TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	input_id INTEGER NOT NULL, 
	user_id INTEGER NOT NULL, 
	sequence_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(input_id) REFERENCES "Input" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(sequence_id) REFERENCES "Sequence" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:44,662    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,704    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,712    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE user_circle (
	user_id INTEGER NOT NULL, 
	circle_id INTEGER NOT NULL, 
	PRIMARY KEY (user_id, circle_id), 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(circle_id) REFERENCES "Circle" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:44,712    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,755    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,762    INFO  [sqlalchemy.engine.base.Engine] 
            SELECT EXISTS (
                SELECT * FROM pg_catalog.pg_type t
                WHERE t.typname = %(typname)s
                AND pg_type_is_visible(t.oid)
                )
                
17:26:44,762    INFO  [sqlalchemy.engine.base.Engine] {'typname': u'job_status'}
17:26:44,763    INFO  [sqlalchemy.engine.base.Engine] CREATE TYPE job_status AS ENUM ('SUCCESS','PENDING','ERROR','RUNNING')
17:26:44,764    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,764    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,795    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "Job" (
	id SERIAL NOT NULL, 
	name VARCHAR(255) NOT NULL, 
	description TEXT NOT NULL, 
	_created TIMESTAMP WITHOUT TIME ZONE NOT NULL, 
	status job_status NOT NULL, 
	user_id INTEGER NOT NULL, 
	project_id INTEGER, 
	PRIMARY KEY (id), 
	FOREIGN KEY(user_id) REFERENCES "User" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(project_id) REFERENCES "Project" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:44,796    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,857    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,873    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE project_track (
	project_id INTEGER NOT NULL, 
	track_id INTEGER NOT NULL, 
	PRIMARY KEY (project_id, track_id), 
	FOREIGN KEY(project_id) REFERENCES "Project" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(track_id) REFERENCES "Track" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:44,874    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,915    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:44,931    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE default_tracks (
	track_id INTEGER NOT NULL, 
	sequence_id INTEGER NOT NULL, 
	PRIMARY KEY (track_id, sequence_id), 
	FOREIGN KEY(track_id) REFERENCES "Track" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(sequence_id) REFERENCES "Sequence" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:44,932    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:44,983    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:45,066    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "RightCircleAssociation" (
	right_id INTEGER NOT NULL, 
	circle_id INTEGER NOT NULL, 
	project_id INTEGER, 
	PRIMARY KEY (right_id, circle_id), 
	FOREIGN KEY(right_id) REFERENCES "Right" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(circle_id) REFERENCES "Circle" (id) ON DELETE CASCADE ON UPDATE CASCADE, 
	FOREIGN KEY(project_id) REFERENCES "Project" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:45,067    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:45,110    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:45,118    INFO  [sqlalchemy.engine.base.Engine] 
            SELECT EXISTS (
                SELECT * FROM pg_catalog.pg_type t
                WHERE t.typname = %(typname)s
                AND pg_type_is_visible(t.oid)
                )
                
17:26:45,118    INFO  [sqlalchemy.engine.base.Engine] {'typname': u'job_type'}
17:26:45,119    INFO  [sqlalchemy.engine.base.Engine] CREATE TYPE job_type AS ENUM ('NEW_SELECTION','NEW_TRACK','GFEATMINER','NEW_PROJECT')
17:26:45,119    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:45,120    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:45,142    INFO  [sqlalchemy.engine.base.Engine] 
            SELECT EXISTS (
                SELECT * FROM pg_catalog.pg_type t
                WHERE t.typname = %(typname)s
                AND pg_type_is_visible(t.oid)
                )
                
17:26:45,142    INFO  [sqlalchemy.engine.base.Engine] {'typname': u'job_output'}
17:26:45,143    INFO  [sqlalchemy.engine.base.Engine] CREATE TYPE job_output AS ENUM ('RELOAD','IMAGE')
17:26:45,144    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:45,144    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:45,175    INFO  [sqlalchemy.engine.base.Engine] 
CREATE TABLE "JobParameters" (
	id SERIAL NOT NULL, 
	type job_type NOT NULL, 
	output job_output NOT NULL, 
	data TEXT, 
	job_id INTEGER NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(job_id) REFERENCES "Job" (id) ON DELETE CASCADE ON UPDATE CASCADE
)


17:26:45,175    INFO  [sqlalchemy.engine.base.Engine] {}
17:26:45,211    INFO  [sqlalchemy.engine.base.Engine] COMMIT
17:26:45,253    INFO  [sqlalchemy.engine.base.Engine] BEGIN (implicit)
17:26:45,255    INFO  [sqlalchemy.engine.base.Engine] SELECT "User".id AS "User_id", "User".name AS "User_name", "User".firstname AS "User_firstname", "User"._email AS "User__email", "User"._created AS "User__created", "User".key AS "User_key" 
FROM "User" 
WHERE "User"._email = %(_email_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
17:26:45,255    INFO  [sqlalchemy.engine.base.Engine] {'_email_1': 'yohan.jarosz@epfl.ch', 'param_1': 1, 'param_2': 0}
17:26:45,259    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Right" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Right".id
17:26:45,260    INFO  [sqlalchemy.engine.base.Engine] {'name': 'Upload', 'description': u'A group with this permission can upload tracks to the project and execute jobs on the web interface.'}
17:26:45,261    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Right" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Right".id
17:26:45,261    INFO  [sqlalchemy.engine.base.Engine] {'name': 'Download', 'description': u'A group with this permission can download files on a project.'}
17:26:45,262    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Right" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Right".id
17:26:45,262    INFO  [sqlalchemy.engine.base.Engine] {'name': 'Read', 'description': u'A group with this permission can view the project.'}
17:26:45,263    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Permission" (name, description) VALUES (%(name)s, %(description)s) RETURNING "Permission".id
17:26:45,263    INFO  [sqlalchemy.engine.base.Engine] {'name': 'user', 'description': u'This permission give "read" right to the bearer.'}
17:26:45,267    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "Group" (name, _created) VALUES (%(name)s, %(_created)s) RETURNING "Group".id
17:26:45,267    INFO  [sqlalchemy.engine.base.Engine] {'_created': datetime.datetime(2011, 10, 13, 17, 26, 45, 265031), 'name': 'Users'}
17:26:45,269    INFO  [sqlalchemy.engine.base.Engine] INSERT INTO "GroupPermissions" (group_id, permission_id) VALUES (%(group_id)s, %(permission_id)s)
17:26:45,269    INFO  [sqlalchemy.engine.base.Engine] {'permission_id': 1, 'group_id': 1}
17:26:45,271    INFO  [sqlalchemy.engine.base.Engine] COMMIT
